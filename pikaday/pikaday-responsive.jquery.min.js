!function($){$.fn.pikaday=function(options){var settings=$.extend({},$.fn.pikaday.defaults,options);return this.each(function(){var elem=$(this);elem.attr("type","hidden"),elem.wrap("<span class='pikaday-container'></span>");var container=elem.parent(".pikaday-container");if(!settings.forcePikaday&&settings.hasTouch&&settings.hasNativeDate){var display=$("<input type='text' readonly class='pikaday-display pikaday-display-native' placeholder='"+settings.placeholder+"' />");container.append(display);var input=$("<input type='date' class='pikaday-invisible' placeholder='"+settings.placeholder+"' />");container.append(input),input.change(function(){var val,date=moment($(this).val(),"YYYY-MM-DD");!date.isValid()||date.unix()<0?(display.addClass("is-invalid"),input.val(""),display.val(""),elem.val("")):(display.removeClass("is-invalid"),display.val(date.format(settings.displayFormat)),val="unix"===settings.outputFormat?date.unix():"input"===settings.outputFormat?$(this).val():date.format(settings.outputFormat),elem.val(val))})}else{var input=$("<input type='text' class='pikaday-display' placeholder='"+settings.placeholder+"' />");container.append(input);var picker=new Pikaday({field:$(input)[0],format:settings.displayFormat});input.change(function(){var val,date=moment($(this).val(),settings.displayFormat);!date.isValid()||date.unix()<0?(input.addClass("is-invalid"),picker.gotoToday(),input.val(""),elem.val("")):(input.removeClass("is-invalid"),val="unix"===settings.outputFormat?date.unix():"input"===settings.outputFormat?$(this).val():date.format(settings.outputFormat),elem.val(val)),elem.trigger("change")})}})},$.fn.pikaday.defaults={displayFormat:"DD.MM.YYYY",outputFormat:"unix",hasTouch:Modernizr.touch,hasNativeDate:Modernizr.inputtypes.date,forcePikaday:!1,placeholder:""}}(jQuery);